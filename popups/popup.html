<meta charset="utf-8" />

<style>
  html,
  body {
    min-width: 286px;
    min-height: 33px;
  }

  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-top: 2em;
  }

  .custom-button {
    width: 100%;
    height: 3em;
    line-height: 3em;
    padding: 0 1em;
    text-align: center;
    border-top: 1px solid #c2c2c2;
    background-color: #fff;
    cursor: pointer;
  }

  .custom-button.disabled {
    background-color: #f2f2f2
  }

  .custom-button:not(:disabled):hover {
    background-color: #f2f2f2;
  }

  .custom-button:disabled {
    background-color: #f2f2f2;
    cursor: not-allowed;
  }

  .text-right {
    float: right;
  }
</style>
<h3>ğŸ” à´¦à´¿=Â´âˆ€ï½€) í–„ë¶€ê¸°ì™€ ì¹œêµ¬ë“¤</h3>
<smaller>í–„ë¶€ê¸°ì™€ ì¹œêµ¬ë“¤ì€ ì—¬ëŸ¬ë¶„ì˜ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</smaller>
<hr />
<h4>ì£¼ë¬¸ì€ ìµœëŒ€ 50ê°œê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</h4>
<div class="container">
  <div id="create-new-bugi" class="custom-button">í–„ë¶€ê¸° ì£¼ë¬¸</div>
  <div id="destroy-bugi" class="custom-button">í–„ë¶€ê¸° íê¸°</div>
  <div id="destroy-all-bugis" class="custom-button">í–„ë¶€ê¸° ì „ëŸ‰ íê¸°</div>
  <div id="create-new-french-fries" class="custom-button">í‘¸ë¼ì´ ì£¼ë¬¸</div>
  <div id="destroy-french-fries" class="custom-button">í‘¸ë¼ì´ íê¸°</div>
  <div id="destroy-all-french-fries" class="custom-button">í‘¸ë¼ì´ ì „ëŸ‰ íê¸°</div>
</div>
<style>
  .section {
    width: 95%;
    margin-top: 1em;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    padding: 0.75em;
    background: #fff;
  }

  .row {
    display: flex;
    gap: 0.5em;
    width: 100%;
    margin-bottom: 0.5em;
    align-items: center;
  }

  .row>* {
    flex: 1;
  }

  input[type="file"] {
    width: 100%;
  }

  input[type="password"],
  input[type="text"] {
    width: 100%;
    box-sizing: border-box;
  }

  canvas {
    border: 1px dashed #c2c2c2;
    background: #fafafa;
  }

  .grid-preview {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 6px;
    width: 100%;
  }
</style>
<div class="section" id="new-friend-section">
  <h4>ğŸ§ª ìƒˆ ì¹œêµ¬ ìƒì„±í•˜ê¸° (ì‹¤í—˜ì  ê¸°ëŠ¥)</h4>
  <div class="row">
    <label>ë ˆí¼ëŸ°ìŠ¤ ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
  </div>
  <div class="row">
    <input id="reference-file" type="file" accept="image/*" />
  </div>
  <div class="row">
    <label>Gemini API Key</label>
  </div>
  <div class="row">
    <input id="api-key" type="password" placeholder="API Key ì…ë ¥" />
  </div>
  <div class="row">
    <label><input type="checkbox" id="remember-key" /> API Key ì €ì¥ (Local)</label>
  </div>
  <div class="row">
    <label>ì¶”ê°€ í”„ë¡¬í”„íŠ¸ (ì„ íƒ)</label>
  </div>
  <div class="row">
    <input id="prompt" type="text" placeholder="ì˜ˆ: ë¹¨ê°„ ëª¨ìë¥¼ ì“´ ê·€ì—¬ìš´ ìºë¦­í„°" />
  </div>
  <div class="row">
    <div style="display:flex; gap:8px; width:100%">
      <div style="flex:1">
        <div style="font-size: 0.9em; margin-bottom: 4px;">ì—…ë¡œë“œ ë¯¸ë¦¬ë³´ê¸°</div>
        <canvas id="ref-canvas" width="96" height="96"></canvas>
      </div>
      <div style="flex:1">
        <div style="font-size: 0.9em; margin-bottom: 4px;">ì‹œíŠ¸ ë¯¸ë¦¬ë³´ê¸°</div>
        <canvas id="sheet-canvas" width="240" height="48"></canvas>
      </div>
    </div>
  </div>
  <div class="row">
    <div style="font-size: 0.9em; margin-bottom: 4px;">í”„ë ˆì„ ë¯¸ë¦¬ë³´ê¸°</div>
  </div>
  <div class="row">
    <div class="grid-preview">
      <canvas id="frame-0" width="48" height="48"></canvas>
      <canvas id="frame-1" width="48" height="48"></canvas>
      <canvas id="frame-2" width="48" height="48"></canvas>
      <canvas id="frame-3" width="48" height="48"></canvas>
      <canvas id="frame-4" width="48" height="48"></canvas>
    </div>
  </div>
  <div class="row">
    <button id="btn-generate" class="custom-button">AIë¡œ ìŠ¤í”„ë¼ì´íŠ¸ ìƒì„±</button>
  </div>
  <hr />
  <div class="row" style="margin-top: 1em;">
    <label>Remove.bg API Key (ë°°ê²½ ì œê±°ìš©)</label>
  </div>
  <div class="row">
    <input id="removebg-api-key" type="password" placeholder="remove.bg ì‚¬ì´íŠ¸ì˜ API Key ì…ë ¥" />
  </div>
  <div class="row">
    <span style="color: #666;"><small><a href="https://www.remove.bg/api" target="_blank">remove.bg API Key ë°œê¸‰</a>ë¬¸ì„œë¥¼
        ì°¸ê³ í•˜ì„¸ìš”.</small></span>
  </div>
  <div class="row">
    <label><input type="checkbox" id="remember-removebg-key" /> API Key ì €ì¥ (Local)</label>
  </div>
  <div class="row">
    <button id="btn-remove-background" class="custom-button" disabled style="opacity: 0.5;">ë°°ê²½ ì œê±° ğŸ¨</button>
  </div>
  <div class="row">
    <button id="btn-download-sprite" class="custom-button" disabled style="opacity: 0.5;">ìŠ¤í”„ë¼ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ğŸ’¾</button>
  </div>
  <div class="row">
    <span id="status-text" style="font-size: 0.9em; color: #666;"></span>
  </div>
  <div class="row" style="margin-top: 1em;">
    <span style="color: #666;"><small>API Keyì— "hamburger"ë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”. ìš´ì´ ì¢‹ë‹¤ë©´ API Key ì—†ì´ë„ AIìƒì„±/ë°°ê²½ì œê±° ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜
        ìˆìŠµë‹ˆë‹¤.</small></span>
  </div>
</div>
<div class="container">
  <div id="create-new-friend" class="custom-button" disabled style="opacity: 0.5;">ìƒˆ ì¹œêµ¬ ìƒì„± ğŸ‰</div>
  <div id="destroy-new-friend" class="custom-button">ìƒˆ ì¹œêµ¬ ì œê±°</div>
  <div id="destroy-all-new-friends" class="custom-button">ìƒˆ ì¹œêµ¬ ëª¨ë‘ ì œê±°</div>
</div>
<script src="../lib/nanobanana.js"></script>
<script src="../lib/spritesheet.js"></script>
<script src="popup.js"></script>
